# ุชู ุญู ูุดููุฉ ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู ุจูุฌุงุญ! ๐ง

## ุงููุดููุฉ ุงูุฃุตููุฉ
ูุงู ุงูุฃุฏูู ูุง ูุณุชุทูุน ุชุณุฌูู ุงูุฏุฎูู ููุธูุฑ ุฎุทุฃ "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ".

## ุณุจุจ ุงููุดููุฉ
1. **ูููุฐุฌ User ูุง ูุญุชูู ุนูู ุญูู `role`**: ูุงู ูููุฐุฌ ุงููุณุชุฎุฏู ููุชูุฏ ุฅูู ุญูู `role` ุงููุทููุจ ูุชูููุฒ ุงูุฃุฏูู
2. **ุญุณุงุจ ุงูุฃุฏูู ูุง ูุญุชูู ุนูู `role: 'admin'`**: ุงูุญุณุงุจ ุงูููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููู ูุญุชูู ุนูู ุฏูุฑ ุงูุฃุฏูู
3. **ูุดููุฉ ูู ุชุดููุฑ ูููุฉ ุงููุฑูุฑ**: ูููุฉ ุงููุฑูุฑ ุงููุดูุฑุฉ ูู ุชูู ุชุชุทุงุจู ูุน `admin123`

## ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุถุงูุฉ ุญูู `role` ุฅูู ูููุฐุฌ User
```javascript
// ูู models/User.js
role: {
  type: String,
  enum: ['user', 'admin'],
  default: 'user'
}
```

### 2. ุชุญุฏูุซ ุญุณุงุจ ุงูุฃุฏูู ุงูููุฌูุฏ
```bash
# ุฅุถุงูุฉ role: 'admin' ูุญุณุงุจ ุงูุฃุฏูู
mongosh mongodb://localhost:27017/nafsyetak-clinic --eval "db.users.updateOne({email: 'admin@nafsyetak.com'}, {\$set: {role: 'admin'}})"
```

### 3. ุฅุตูุงุญ ูููุฉ ุงููุฑูุฑ
```bash
# ุฅูุดุงุก ูููุฉ ูุฑูุฑ ูุดูุฑุฉ ุฌุฏูุฏุฉ
node -e "const bcrypt = require('bcryptjs'); bcrypt.hash('admin123', 10).then(hash => console.log('Hashed password:', hash));"

# ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
mongosh mongodb://localhost:27017/nafsyetak-clinic --eval "db.users.updateOne({email: 'admin@nafsyetak.com'}, {\$set: {password: '\$2a\$10\$c7iXEmKi7SINHd8.JFcoZe7bEd8M3FzDDlInNW6iy/R7.BmutkHZ6'}})"
```

## ุจูุงูุงุช ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู

### ูุนูููุงุช ุงูุญุณุงุจ:
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: `admin@nafsyetak.com`
- **ูููุฉ ุงููุฑูุฑ**: `admin123`
- **ุงูุฏูุฑ**: `admin`
- **ุงูุงุณู**: `Administrator`
- **ุงููุงุชู**: `+20 123 456 7890`

## ููููุฉ ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู

### 1. ุนุจุฑ API ูุจุงุดุฑุฉ:
```bash
curl -X POST http://localhost:5000/api/auth/admin/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@nafsyetak.com",
    "password": "admin123"
  }'
```

### 2. ุงูุงุณุชุฌุงุจุฉ ุงููุชููุนุฉ:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "687bfc9b1c7a01c1ee0b74a9",
    "name": "Administrator",
    "email": "admin@nafsyetak.com",
    "phone": "+20 123 456 7890",
    "role": "admin"
  }
}
```

## ุงูุชุญูู ูู ุญุงูุฉ ุงูุฃุฏูู

### ุนุฑุถ ุญุณุงุจ ุงูุฃุฏูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
mongosh mongodb://localhost:27017/nafsyetak-clinic --eval "db.users.find({role: 'admin'}).pretty()"
```

### ุงููุชูุฌุฉ ุงููุชููุนุฉ:
```json
[
  {
    "_id": ObjectId("687bfc9b1c7a01c1ee0b74a9"),
    "name": "Administrator",
    "email": "admin@nafsyetak.com",
    "password": "$2a$10$c7iXEmKi7SINHd8.JFcoZe7bEd8M3FzDDlInNW6iy/R7.BmutkHZ6",
    "phone": "+20 123 456 7890",
    "role": "admin",
    "createdAt": ISODate("2025-07-19T20:14:19.659Z"),
    "__v": 0
  }
]
```

## ุงูููุฒุงุช ุงููุชุงุญุฉ ููุฃุฏูู

### 1. **ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช**
- ุนุฑุถ ุฌููุน ุงูุญุฌูุฒุงุช
- ุชุฃููุฏ ุฃู ุฅูุบุงุก ุงูุญุฌูุฒุงุช
- ุชุญุฏูุซ ุญุงูุฉ ุงูุญุฌูุฒุงุช

### 2. **ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู**
- ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู
- ุฅุฏุงุฑุฉ ุญุณุงุจุงุช ุงููุณุชุฎุฏููู

### 3. **ุฅุฏุงุฑุฉ ุงููุญุชูู**
- ุฅุฏุงุฑุฉ ุงููุฏููุงุช
- ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช

### 4. **ุฅุฏุงุฑุฉ ุงูุฃุทุจุงุก**
- ุฅุถุงูุฉ ูุชุนุฏูู ุจูุงูุงุช ุงูุฃุทุจุงุก
- ุฅุฏุงุฑุฉ ุงููููุงุช ุงูุดุฎุตูุฉ

## ุงูุฃูุงู

### 1. **ุชุดููุฑ ูููุฉ ุงููุฑูุฑ**
- ูููุฉ ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู bcrypt
- ูุณุชูู ุชุดููุฑ: 10 rounds

### 2. **JWT Token**
- token ุตุงูุญ ููุฏุฉ 7 ุฃูุงู
- ูุญุชูู ุนูู ูุนุฑู ุงููุณุชุฎุฏู ูุงูุฏูุฑ

### 3. **Middleware ุญูุงูุฉ**
- `adminAuth` middleware ููุชุญูู ูู ุตูุงุญูุงุช ุงูุฃุฏูู
- ุงูุชุญูู ูู ูุฌูุฏ `role: 'admin'`

## ุงุฎุชุจุงุฑ ุณุฑูุน

```bash
# 1. ุงุฎุชุจุงุฑ ุตุญุฉ ุงููุธุงู
curl http://localhost:5000/api/health

# 2. ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู
curl -X POST http://localhost:5000/api/auth/admin/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@nafsyetak.com","password":"admin123"}'

# 3. ุงุณุชุฎุฏุงู token ูููุตูู ููุธุงุฆู ุงูุฃุฏูู
curl -X GET http://localhost:5000/api/admin/bookings \
  -H "Authorization: Bearer YOUR_TOKEN_HERE"
```

## ููุงุญุธุงุช ูููุฉ

1. **ุญูุงูุฉ ูููุฉ ุงููุฑูุฑ**: ูุง ุชุดุงุฑู ูููุฉ ูุฑูุฑ ุงูุฃุฏูู ูุน ุฃู ุดุฎุต
2. **ุชุบููุฑ ูููุฉ ุงููุฑูุฑ**: ูููุตุญ ุจุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ ูู ุงูุฅูุชุงุฌ
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ุงููุฑุงูุจุฉ**: ุฑุงูุจ ุณุฌูุงุช ุชุณุฌูู ุงูุฏุฎูู ููุฃูุงู

## ุญุงูุฉ ุงููุธุงู ุงูุขู
โ **ุชุณุฌูู ุฏุฎูู ุงูุฃุฏูู ูุนูู**  
โ **ุญูู role ูุถุงู ูููููุฐุฌ**  
โ **ุญุณุงุจ ุงูุฃุฏูู ูุญุฏุซ**  
โ **ูููุฉ ุงููุฑูุฑ ูุตุญุญุฉ**  
โ **Middleware ุญูุงูุฉ ูุนูู**  
โ **ุฌููุน ูุธุงุฆู ุงูุฃุฏูู ูุชุงุญุฉ**  

ุงูุฃุฏูู ุงูุขู ููููู ุชุณุฌูู ุงูุฏุฎูู ูุงููุตูู ูุฌููุน ูุธุงุฆู ุงูุฅุฏุงุฑุฉ! ๐